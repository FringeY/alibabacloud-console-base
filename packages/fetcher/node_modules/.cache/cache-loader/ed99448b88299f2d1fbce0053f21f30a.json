{"remainingRequest":"/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/node_modules/thread-loader/dist/cjs.js??ref--9-1!/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/node_modules/@alicloud/console-toolkit-plugin-typescript/node_modules/ts-loader/index.js??ref--9-2!/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/packages/fetcher/src/fetcher/index.ts","dependencies":[{"path":"/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/packages/fetcher/src/fetcher/index.ts","mtime":1606194741677},{"path":"/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/node_modules/cache-loader/dist/cjs.js","mtime":1606739830244},{"path":"/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/node_modules/thread-loader/dist/cjs.js","mtime":1606739824609},{"path":"/Users/jianchun.wang/zombie/@console-base/alibabacloud-console-base/node_modules/@alicloud/console-toolkit-plugin-typescript/node_modules/ts-loader/index.js","mtime":1606739827333}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwp2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7CiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkgewogICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldOwogICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpCiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHQ7CiAgICB9OwogICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn07CnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgewogICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9CiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9CiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQogICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9CiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOwogICAgfSk7Cn07CnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7CiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnOwogICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksICJ0aHJvdyI6IHZlcmIoMSksICJyZXR1cm4iOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7CiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH0KICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHsKICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLiIpOwogICAgICAgIHdoaWxlIChfKSB0cnkgewogICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5WyJyZXR1cm4iXSA6IG9wWzBdID8geVsidGhyb3ciXSB8fCAoKHQgPSB5WyJyZXR1cm4iXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7CiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTsKICAgICAgICAgICAgc3dpdGNoIChvcFswXSkgewogICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9OwogICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlOwogICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlOwogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH0KICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfQogICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfQogICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH0KICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7CiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTsKICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9CiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07CiAgICB9Cn07CnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoOwogICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKQogICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKQogICAgICAgICAgICByW2tdID0gYVtqXTsKICAgIHJldHVybiByOwp9Owp2YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHsKICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgImRlZmF1bHQiOiBtb2QgfTsKfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKdmFyIGNvbnN0XzEgPSByZXF1aXJlKCIuLi9jb25zdCIpOwp2YXIgZmV0Y2hfeF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIi4uL3V0aWwvZmV0Y2gteCIpKTsKdmFyIG1lcmdlX2NvbmZpZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIi4uL3V0aWwvbWVyZ2UtY29uZmlnIikpOwp2YXIgY29udmVydF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIi4uL3V0aWwvZXJyb3IvY29udmVydCIpKTsKdmFyIGZpcnN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZSgiLi4vaW50ZXJjZXB0b3JzL3JlcXVlc3QvZmlyc3QiKSk7CnZhciBsYXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZSgiLi4vaW50ZXJjZXB0b3JzL3JlcXVlc3QvbGFzdCIpKTsKZnVuY3Rpb24gcGFyc2VJbnRlcmNlcHRvclF1ZXVlSXRlbUZvclJlcXVlc3QoYXJncykgewogICAgdmFyIGl0ZW07CiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdudW1iZXInKSB7CiAgICAgICAgaXRlbSA9IHsKICAgICAgICAgICAgcHJpb3JpdHk6IGFyZ3NbMF0sCiAgICAgICAgICAgIGZ1bGZpbGxlZEZuOiBhcmdzWzFdCiAgICAgICAgfTsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGl0ZW0gPSB7CiAgICAgICAgICAgIGZ1bGZpbGxlZEZuOiBhcmdzWzBdCiAgICAgICAgfTsKICAgIH0KICAgIHJldHVybiBpdGVtOwp9CmZ1bmN0aW9uIHBhcnNlSW50ZXJjZXB0b3JRdWV1ZUl0ZW1Gb3JSZXNwb25zZShhcmdzKSB7CiAgICB2YXIgaXRlbTsKICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ251bWJlcicpIHsKICAgICAgICBpdGVtID0gewogICAgICAgICAgICBwcmlvcml0eTogYXJnc1swXSwKICAgICAgICAgICAgZnVsZmlsbGVkRm46IGFyZ3NbMV0sCiAgICAgICAgICAgIHJlamVjdGVkRm46IGFyZ3NbMl0KICAgICAgICB9OwogICAgfQogICAgZWxzZSB7CiAgICAgICAgaXRlbSA9IHsKICAgICAgICAgICAgZnVsZmlsbGVkRm46IGFyZ3NbMF0sCiAgICAgICAgICAgIHJlamVjdGVkRm46IGFyZ3NbMV0KICAgICAgICB9OwogICAgfQogICAgcmV0dXJuIGl0ZW07Cn0KZnVuY3Rpb24gcXVldWVJbnRlcmNlcHRvcihpbnRlcmNlcHRvclF1ZXVlLCBpdGVtKSB7CiAgICBpbnRlcmNlcHRvclF1ZXVlLnB1c2goaXRlbSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpbmRleCA9IGludGVyY2VwdG9yUXVldWUuaW5kZXhPZihpdGVtKTsKICAgICAgICBpZiAoaW5kZXggPj0gMCkgewogICAgICAgICAgICBpbnRlcmNlcHRvclF1ZXVlLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfQogICAgfTsKfQovKioKICog5a+55oum5oiq5Zmo6L+b6KGM5o6S5bqP77yM6buY6K6k55qEIHByaW9yaXR5IOaYryAxMO+8jOWmguaenOaDs+mdoOWJje+8jOaMh+WumiBwcmlvcml0eSDlsI/kuo4gMTDvvIzlpKfkuo7nrYnkuo4gMTAg5bCG6Z2g5ZCOCiAqLwpmdW5jdGlvbiBmaWx0ZXJBbmRTb3J0KHVuc29ydGVkKSB7CiAgICByZXR1cm4gdW5zb3J0ZWQuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ICYmICh2LmZ1bGZpbGxlZEZuIHx8IHYucmVqZWN0ZWRGbik7IH0pLnNvcnQoZnVuY3Rpb24gKF9hLCBfYikgewogICAgICAgIHZhciBfYyA9IF9hLnByaW9yaXR5LCBwcmkxID0gX2MgPT09IHZvaWQgMCA/IDEwIDogX2M7CiAgICAgICAgdmFyIF9kID0gX2IucHJpb3JpdHksIHByaTIgPSBfZCA9PT0gdm9pZCAwID8gMTAgOiBfZDsKICAgICAgICByZXR1cm4gcHJpMSAtIHByaTI7CiAgICB9KTsKfQovKioKICog5LiA5Liq5YWB6K645re75YqgIHJlcXVlc3Qg5ZKMIHJlc3BvbnNlIOaLpuaIquWZqOeahCBGZXRjaGVyIOexu++8jOacieS6m+exu+S8vCBheGlvc++8jOS9huacieaJgOS4jeWQjO+8mgogKgogKiAxLiDmi6bmiKrmlrnms5Xmm7Tnm7TmjqXvvJpgaW50ZXJjZXB0UmVxdWVzdC9pbnRlcmNlcHRSZXNwb25zZWDvvIzogIzkuI3mmK8gYGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0fHJlc3BvbnNlLnVzZSgpYAogKiAyLiDop6PpmaTmi6bmiKrlj6rpnIDopoHorrDkvY/ku6XkuIrkuKTkuKrmlrnms5Xov5Tlm57nmoTml6Dlj4Lmlrnms5XljbPlj6/vvIjlnKggcmVhY3Qg55qEIHVzZUVmZmVjdCBob29rcyDkuIvnibnliKvmlrnkvr/vvInvvIzogIzkuI3mmK8gYGF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0fHJlc3BvbnNlLmVqZWN0KClgCiAqIDMuIGBpbnRlcmNlcHRSZXF1ZXN0YCDku4XmjqXlj5fkuIDkuKrmlrnms5XvvIzogIwgYGludGVyY2VwdFJlc3BvbnNlYCDlj6/ku6XmjqXlj5fkuKTkuKrvvIjot58gYXhpb3Mg57G75Ly877yJCiAqIDQuIGBpbnRlcmNlcHRSZXF1ZXN0YCDnmoTpobrluo/lkozmnIDnu4josIPnlKjnmoTpobrluo/kuIDoh7TvvIzogIwgYXhpb3Mg55qE6aG65bqP5piv5YCS552A5p2l55qECiAqIDUuIGBpbnRlcmNlcHRSZXF1ZXN0YCDlpoLmnpzmipvplJnvvIzkuI3kvJrop6blj5HnnJ/lrp7nmoQgQVBJIOivt+axgu+8iGF4aW9zIOS4gOagt++8ie+8jOS5n+S4jeS8muinpuWPkeS7u+S9lSByZXNwb25zZSBpbnRlcmNlcHRvcnPvvIhheGlvcyDkvJrop6blj5HvvIkKICogNi4gYGludGVyY2VwdFJlcXVlc3RgIOWPr+S7peS4jeW/hei/lOWbnuWFqOeahCBjb25maWfvvIzov5nph4zkvJroh6rliqggbWVyZ2XvvIxheGlvcyDopoHmsYLov5Tlm57lhajnmoQKICovCnZhciBGZXRjaGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRmV0Y2hlcihjb25maWcpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIHRoaXMuX2ludGVyY2VwdG9yUmVxdWVzdFNlYWxlZCA9IGZhbHNlOwogICAgICAgIHRoaXMuX2ludGVyY2VwdG9yUmVzcG9uc2VTZWFsZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLl9pbnRlcmNlcHRvclF1ZXVlRm9yUmVxdWVzdCA9IFtdOwogICAgICAgIHRoaXMuX2ludGVyY2VwdG9yUXVldWVGb3JSZXNwb25zZSA9IFtdOwogICAgICAgIC8qKgogICAgICAgICAqIOS8oOmAkue7mSBpbnRlcmNlcHRvcu+8jOi/meagt+WcqCBpbnRlcmNlcHRvciDlhoXpg6jmnInpnIDopoHnmoTor53lj6/ku6XpgJrov4flroPliqDkuIogY29uZmlnIOi/m+ihjOmHjeaWsOivt+axggogICAgICAgICAqLwogICAgICAgIHRoaXMuX2hhbmRsZVJlcXVlc3QgPSBmdW5jdGlvbiAoY29uZmlnKSB7IHJldHVybiBfdGhpcy5yZXF1ZXN0KGNvbmZpZyk7IH07CiAgICAgICAgdGhpcy5fZGVmYXVsdENvbmZpZyA9IF9fYXNzaWduKHt9LCBjb25maWcpOwogICAgfQogICAgLyoqCiAgICAgKiDojrflj5bmraTmrKHosIPnlKjpnIDopoHnlKjliLDnmoTmiYDmnInor7fmsYLmi6bmiKrlmajvvIzkuJTmi6bmiKrlmajnmoTpobrluo/mjInmjIflrprpobrluo8KICAgICAqLwogICAgRmV0Y2hlci5wcm90b3R5cGUuX2dldEludGVyY2VwdG9yc0ZvclJlcXVlc3QgPSBmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgdmFyIHVuc29ydGVkID0gX19zcHJlYWRBcnJheXModGhpcy5faW50ZXJjZXB0b3JRdWV1ZUZvclJlcXVlc3QpOwogICAgICAgIGlmIChjb25maWcuYWRkaXRpb25hbEludGVyY2VwdG9yc0ZvclJlcXVlc3QpIHsKICAgICAgICAgICAgY29uZmlnLmFkZGl0aW9uYWxJbnRlcmNlcHRvcnNGb3JSZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHVuc29ydGVkLnB1c2gocGFyc2VJbnRlcmNlcHRvclF1ZXVlSXRlbUZvclJlcXVlc3QodikpOyB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9fc3ByZWFkQXJyYXlzKFsKICAgICAgICAgICAgZmlyc3RfMS5kZWZhdWx0CiAgICAgICAgXSwgZmlsdGVyQW5kU29ydCh1bnNvcnRlZCkubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LmZ1bGZpbGxlZEZuOyB9KSwgWwogICAgICAgICAgICBsYXN0XzEuZGVmYXVsdAogICAgICAgIF0pOwogICAgfTsKICAgIEZldGNoZXIucHJvdG90eXBlLl9nZXRJbnRlcmNlcHRvcnNGb3JSZXNwb25zZSA9IGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgICB2YXIgdW5zb3J0ZWQgPSBfX3NwcmVhZEFycmF5cyh0aGlzLl9pbnRlcmNlcHRvclF1ZXVlRm9yUmVzcG9uc2UpOwogICAgICAgIGlmIChjb25maWcuYWRkaXRpb25hbEludGVyY2VwdG9yc0ZvclJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbmZpZy5hZGRpdGlvbmFsSW50ZXJjZXB0b3JzRm9yUmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gdW5zb3J0ZWQucHVzaChwYXJzZUludGVyY2VwdG9yUXVldWVJdGVtRm9yUmVzcG9uc2UodikpOyB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZpbHRlckFuZFNvcnQodW5zb3J0ZWQpLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gW3YuZnVsZmlsbGVkRm4sIHYucmVqZWN0ZWRGbl07IH0pOwogICAgfTsKICAgIC8qKgogICAgICog6YCQ5Liq6LCD55So5o6S5bqP5aW955qE6K+35rGC5oum5oiq5Zmo77yM5q+P5Liq5oum5oiq5Zmo5Y+v5Lul6L+U5Zue6YOo5YiG5pyf5pyb5L+u5pS555qEIGNvbmZpZ++8iOS5n+WPr+S7peS4jei/lOWbnuS7u+S9leS4nOilv++8ie+8jOacgOe7iOW+l+WIsOeahOaYr+WQiOW5tuWujOeahCBjb25maWcg5a+56LGhCiAgICAgKi8KICAgIEZldGNoZXIucHJvdG90eXBlLl9pbnZva2VJbnRlcmNlcHRvcnNGb3JSZXF1ZXN0ID0gZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTsKICAgICAgICB0aGlzLl9nZXRJbnRlcmNlcHRvcnNGb3JSZXF1ZXN0KGNvbmZpZykuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsKICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbiAoY29uZmlnTGFzdE1lcmdlZCkgewogICAgICAgICAgICAgICAgLy8g5Yip55So5YmN572uIFByb21pc2XvvIzkuI3nrqEgZm4g6L+U5Zue5piv5ZCmIFByb21pc2Ug6YO95Y+v5Lul5Zyo5LiA5Liq6L+Q6KGM56m66Ze06I635Y+W5YiwIGNvbmZpZ0xhc3RNZXJnZWQg5ZKMIGNvbmZpZ1RvTWVyZ2UKICAgICAgICAgICAgICAgIC8vIGNvbmZpZ1RvTWVyZ2Ug5pivIGZuIOiuoeeul+WQjuW+l+WIsOeahOe7k+aenO+8jOWPr+iDveS4uuepuu+8m+S5n+WPr+iDveaYryBQcm9taXNlCiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBmbihjb25maWdMYXN0TWVyZ2VkLCBfdGhpcy5faGFuZGxlUmVxdWVzdCk7IH0pLnRoZW4oZnVuY3Rpb24gKGNvbmZpZ1RvTWVyZ2UpIHsgcmV0dXJuIG1lcmdlX2NvbmZpZ18xLmRlZmF1bHQoY29uZmlnTGFzdE1lcmdlZCwgY29uZmlnVG9NZXJnZSk7IH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcHJvbWlzZTsKICAgIH07CiAgICAvKioKICAgICAqIOWvueaJp+ihjOivt+axgui/lOWbnuW+l+WIsOeahOe7k+aenO+8iOato+ehrui/lOWbnuaIlumUmeivr++8iei/m+ihjOWQjuacn+WkhOeQhgogICAgICovCiAgICBGZXRjaGVyLnByb3RvdHlwZS5faW52b2tlSW50ZXJjZXB0b3JzRm9yUmVzcG9uc2UgPSBmdW5jdGlvbiAoY29uZmlnLCBmZXRjaGVyUmVzcG9uc2UsIGVycm9yKSB7CiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHByb21pc2U7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHsKICAgICAgICAgICAgICAgIGlmIChmZXRjaGVyUmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGZldGNoZXJSZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDpgJDkuKrosIPnlKjlk43lupTmi6bmiKrlmajvvIzlpoLmnpzmnIkgc3VjY2VzcyDliJnlhbbov5Tlm57lsIbkvZzkuLrnu5PmnpzkvKDpgJLnu5nkuIvkuIDkuKrmi6bmiKrlmagKICAgICAgICAgICAgICAgIHRoaXMuX2dldEludGVyY2VwdG9yc0ZvclJlc3BvbnNlKGNvbmZpZykuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZnVsZmlsbGVkRm4gPSBfYVswXSwgcmVqZWN0ZWRGbiA9IF9hWzFdOwogICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVsZmlsbGVkRm4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdWxmaWxsZWRGbihyZXN1bHQsIGNvbmZpZywgZmV0Y2hlclJlc3BvbnNlLCBfdGhpcy5faGFuZGxlUmVxdWVzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAgICAgKiDlpoLmnpznu6fnu60gdGhyb3cg5YiZIHByb21pc2Ug57un57utIHJlamVjdO+8jOWmguaenOS4jSB0aHJvdyDliJkgcHJvbWlzZSDlsIYgcmVzb2x2ZQogICAgICAgICAgICAgICAgICAgICAgICAgKiDmiYDku6Xov5nph4zmj5DkvpvkuobjgIznuqDplJnjgI3lkozjgIzosIPmlbTplJnor6/jgI3kuKTkuKrlip/og70KICAgICAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWplY3RlZEZuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRGbihlcnIsIGNvbmZpZywgZmV0Y2hlclJlc3BvbnNlLCBfdGhpcy5faGFuZGxlUmVxdWVzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyMi5jb25maWcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycjIuY29uZmlnID0gY29uZmlnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZmV0Y2hlclJlc3BvbnNlID09PSBudWxsIHx8IGZldGNoZXJSZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmV0Y2hlclJlc3BvbnNlLmRhdGEpICYmICFlcnIyLnJlc3BvbnNlRGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyMi5yZXNwb25zZURhdGEgPSBmZXRjaGVyUmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnIyOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcHJvbWlzZV07CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfTsKICAgIC8qKgogICAgICog5Y+R6YCB6K+35rGC77ya5YmN572u6K+35rGC5oum5oiq5ZmoIOKGkiDnvZHnu5zor7fmsYIg4oaSIOWQjue9ruWTjeW6lOaLpuaIquWZqAogICAgICovCiAgICBGZXRjaGVyLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBmaW5hbENvbmZpZywgZXJyXzEsIGZldGNoZXJSZXNwb25zZSwgZXJyb3IsIGVycl8yOwogICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBmaW5hbENvbmZpZyA9IG1lcmdlX2NvbmZpZ18xLmRlZmF1bHQodGhpcy5fZGVmYXVsdENvbmZpZywgY29uZmlnKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faW52b2tlSW50ZXJjZXB0b3JzRm9yUmVxdWVzdChmaW5hbENvbmZpZyldOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDb25maWcgPSBfYS5zZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfYS5zZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyXzEpIHsgLy8g5ZyoIEpTIOmHjOWPr+S7pSB0aHJvdyB1bmRlZmluZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycl8xOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJfMS5uYW1lID09PSBjb25zdF8xLkVFcnJvclNwZWNpYWwuU0tJUF9ORVRXT1JLKSB7IC8vIOe7lei/h+ivt+axgu+8jOebtOaOpei/lOWbngogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVycl8xLnJlc3VsdF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY29udmVydF8xLmRlZmF1bHQoZXJyXzEsIGZpbmFsQ29uZmlnKTsgLy8g57un57ut6ZSZ5LiL5Y67CiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzQsIDYsICwgN10pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF94XzEuZGVmYXVsdChmaW5hbENvbmZpZyldOwogICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hlclJlc3BvbnNlID0gX2Euc2VudCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTsKICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgIGVycl8yID0gX2Euc2VudCgpOwogICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGNvbnZlcnRfMS5kZWZhdWx0KGVycl8yLCBmaW5hbENvbmZpZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddOwogICAgICAgICAgICAgICAgICAgIGNhc2UgNzogCiAgICAgICAgICAgICAgICAgICAgLy8gMy4g5ZCO572u5ZON5bqU5oum5oiq5ZmoCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX2ludm9rZUludGVyY2VwdG9yc0ZvclJlc3BvbnNlKGZpbmFsQ29uZmlnLCBmZXRjaGVyUmVzcG9uc2UsIGVycm9yKV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfTsKICAgIC8qKgogICAgICog5re75Yqg44CM6aKE6K6+44CN6K+35rGC5oum5oiq5Zmo77yM6L+U5Zue6Kej6Zmk5oum5oiq55qE5peg5Y+C5pa55rOVCiAgICAgKi8KICAgIEZldGNoZXIucHJvdG90eXBlLmludGVyY2VwdFJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGFyZ3MgPSBbXTsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLl9pbnRlcmNlcHRvclJlcXVlc3RTZWFsZWQpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbRmV0Y2hlciNpbnRlcmNlcHRSZXF1ZXN0XSBDYW5ub3QgYWRkIG1vcmUgaW50ZXJjZXB0b3JzLiBZb3UgbmVlZCB0byB1bnNlYWwgaXQgZmlyc3QuJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBxdWV1ZUludGVyY2VwdG9yKHRoaXMuX2ludGVyY2VwdG9yUXVldWVGb3JSZXF1ZXN0LCBwYXJzZUludGVyY2VwdG9yUXVldWVJdGVtRm9yUmVxdWVzdChhcmdzKSk7CiAgICB9OwogICAgLyoqCiAgICAgKiDmt7vliqDjgIzpooTorr7jgI3lk43lupTmi6bmiKrlmajvvIzov5Tlm57op6PpmaTmi6bmiKrnmoTml6Dlj4Lmlrnms5UKICAgICAqLwogICAgRmV0Y2hlci5wcm90b3R5cGUuaW50ZXJjZXB0UmVzcG9uc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGFyZ3MgPSBbXTsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLl9pbnRlcmNlcHRvclJlc3BvbnNlU2VhbGVkKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0ZldGNoZXIjaW50ZXJjZXB0UmVzcG9uc2VdIENhbm5vdCBhZGQgbW9yZSBpbnRlcmNlcHRvcnMuIFlvdSBuZWVkIHRvIHVuc2VhbCBpdCBmaXJzdC4nKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHF1ZXVlSW50ZXJjZXB0b3IodGhpcy5faW50ZXJjZXB0b3JRdWV1ZUZvclJlc3BvbnNlLCBwYXJzZUludGVyY2VwdG9yUXVldWVJdGVtRm9yUmVzcG9uc2UoYXJncykpOwogICAgfTsKICAgIC8qKgogICAgICog5a+55LqO44CM5byA566x5Y2z55So44CN55qEIGZldGNoZXLvvIzlm6DkuLrlroPmmK/kvJrooqvlpI3nlKjnmoTljZXkvovvvIzmiYDku6XkuIDoiKzkuI3luIzmnJvlroPnmoTmi6bmiKrlmajooqvmianlsZXvvIzlpoLmnpzov5jmmK/lnZrmjIHopoHmianlsZXvvIzpnIDopoHmiYvliqjop6PpmaQKICAgICAqLwogICAgRmV0Y2hlci5wcm90b3R5cGUuc2VhbEludGVyY2VwdG9ycyA9IGZ1bmN0aW9uIChyZXF1ZXN0U2VhbGVkLCByZXNwb25zZVNlYWxlZCkgewogICAgICAgIGlmIChyZXF1ZXN0U2VhbGVkID09PSB2b2lkIDApIHsgcmVxdWVzdFNlYWxlZCA9IHRydWU7IH0KICAgICAgICBpZiAocmVzcG9uc2VTZWFsZWQgPT09IHZvaWQgMCkgeyByZXNwb25zZVNlYWxlZCA9IHRydWU7IH0KICAgICAgICB0aGlzLl9pbnRlcmNlcHRvclJlcXVlc3RTZWFsZWQgPSByZXF1ZXN0U2VhbGVkOwogICAgICAgIHRoaXMuX2ludGVyY2VwdG9yUmVzcG9uc2VTZWFsZWQgPSByZXNwb25zZVNlYWxlZDsKICAgIH07CiAgICByZXR1cm4gRmV0Y2hlcjsKfSgpKTsKZXhwb3J0cy5kZWZhdWx0ID0gRmV0Y2hlcjsK"},null]}